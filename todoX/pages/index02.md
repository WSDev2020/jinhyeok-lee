---
title: 우분투 설치하기
key: linux install
date: 2020-03-08
---

# 리눅스 다루기, 텍스트 환경에 익숙해지자

## 우분투 설치하기

- - -

열씨미&게을러

- - -

**열씨미** 그래서 결국은 우분투를 설치해야 한다는 말이군요.

**게을러** 아무래도.

**열씨미** 좋아요. 뭐 프로그램을 받아서 설치하는 거야 일도 아니죠.

**게을러** 음… 신중하게 생각해볼 필요가 있는데. 우분투는 그냥 일반적인 응용 프로그램이 아닌 운영체제라고.

**열씨미** 다운로드해서 설치를 시작하면 `다음`, `다음`, `다음` 클릭하는 거 아니었어요?

**게을러** 뭐부터 알려줘야 할지 막막하구나. 일단 내가 아주 급한 회의가 있어서 말야.

**열씨미** 선배! 오늘 야식은 제가 살테니 좀 도와달란 말예요.

**게을러** 이거 사람 다시 봤는걸. 맨입으로 부탁만하는 `몰상식한` 파렴치한은 아니구만.

**열씨미** 도라에몽에게 팥빵 하나만 던져주면 뭐든지 다 해결해주는 거랑 비슷한 건가.

**게을러** 뭐… 나쁘지 않은 비유구만. 어쨌든. 운영체제는 시스템을 제어하는 가장 기본적인 소프트웨어라고. 단순히 클릭만해서 설치할 수 있는 응용 프로그램과 달리 각 설치 과정에 대한 이해가 필요해.

**열씨미** 어째 꽤 복잡하게 들리네요.

**게을러** 무슨 그런 섭섭한 말씀을. 리눅스 배포판 제조업체들이 얼마나 공들여서 설치 과정을 쉽고 단순하게 만들어 놨는데… 설치할 언어 및 국가 정보를 입력하기, 하드디스크에 우분투를 설치할 공간 마련하기, 시스템 관리자 계정 생성하기, 뭐 이 정도가 직접 해야 할 일이고 나머지는 우분투가 다 처리한다고.

**열씨미** 뭐야… 그러니까 어렵다는 거예요? 쉽다는 거예요?

**게을러** 음… 그 질문에 대한 답은 직접 해본 다음에 스스로 찾기 바라고… 일단 설치 과정을 같이 살펴보자고. 직접 시스템을 설치해보면 금방 익숙해질 거야.

**열씨미** 오케이. 당장 시작하자구요.

**게을러** 급할수록 돌아가야 하는 법. 우분투를 설치하기 전에 필요한 준비 과정부터 빠트리지 말고 챙겨두라고.

### 우분투 설치 전 준비하기

우분투가 단순한 응용 프로그램이 아닌 운영체제인 만큼 우분투를 설치하기 전에 해야 할 일이 몇 가지 있습니다.

시스템에 대한 정보를 기록해두고, 삭제해서는 안 될 중요한 자료를 백업해야 합니다.

하드디스크에 우분투를 설치할 공간을 계획하고 어떤 우분투 버전을 받을지 결정한 다음, 우분투를 다운로드해야 합니다.

#### 시스템 정보 모으기

우분투를 설치할 시스템에 대해 최소한 다음 정보는 알아둬야겠습니다.

최신 리눅스 커널을 탑재한 우분투의 하드웨어 호환성은 매우 우수한 편이지만 설치뿐 아니라 하드웨어와 관련한 문제가 발생했을 때 해결의 실마리가 될 수 있기 때문입니다.

+ CPU: 제조사,모델명
+ 메모리(RAM): 용량
+ 하드디스크 정보:제조사, 모델명, 유형(IDE, SATA, SCSI 등), 파티션 상태
+ 비디오 카드: 제조사, 모델명, 비디오 램, 지원하는 해상도와 색상
+ 모니터: 제조사, 모델명, 지원하는 해상도와 색상
+ 네트워크 인터페이스: 제조사, 모델명, 유무선 여부

필요한 시스템 정보를 얻을 수 있는 방법은 다음과 같습니다.

+ 구입할 때 받은 제품 설명서
+ BIOS 설정 화면: 시스템에 전원을 넣고 F2 또는 Del을 누르면 BIOS 설정 화면이 나타납니다.
+ 장치 관리자: 윈도 시스템이 설치되어 있다면 `[제어판]` → `시스템 및 보안` → `장치 관리자`를 선택해서 `장치 관리자`를 실행합니다.
+ 시스템 정보 수집 프로그램: 시스템 하드웨어 정보를 보여주는 별도의 프로그램을 사용합니다.

시스템이 네트워크에 연결되어 있는 상태라면 네트워크 정보를 정확히 기록해 둬야 합니다.

시스템의 이름 정보(호스트 이름, 도메인 이름)와 TCP/IP 주소 정보(IP 주소, 넷마스크, 게이트웨이 주소, DNS 주소)가 필요합니다.

윈도우에서는 `제어판` → `네트워크 및 인터넷` → `네트워크 및 공유 센터`를 선택하고 `네트워크 및 공유 센터`를 실행해서 필요한 정보를 얻을 수 있습니다.

#### 자료 저장하기

설치를 시작하기에 앞서 시스템에 존재하는 중요한 자료를 옮겨둬야 합니다.

우분투를 설치하는 과정에서 용도와 크기에 따라 하드디스크를 분할하는데, 설치 공간을 마련하기 위해 기존의 하드디스크 자료를 삭제할 수도 있습니다.

중요한 자료를 보존하기 위해 다음과 같은 방법을 사용할 수 있습니다.

+ 보조 기억장치:외장 하드디스크, USB 메모리, CD R/RW 미디어
+ 네트워크 저장소:구글 드라이브, 드롭박스, 다음 클라우드, 네이버 N 드라이브
+ 네트워크로 연결된 외부 시스템

어떤 방법을 선택하든지 자료를 보존한다는 사실 자체가 중요합니다.

자료는 한 번 유실되면 복구하는 데 많은 비용이 발생하기 때문입니다.

#### 설치 공간 계획하기

하드디스크를 효율적으로 사용하기 위해 공간을 어떻게 사용할지 결정해야 합니다.

하드디스크 공간을 나누고 용도에 따라 할당하는 작업을 파티셔닝(Partitioning)이라고 하며 쪼개진 공간을 분할 영역, 파티션Partition이라고 합니다.

우분투를 설치하기 전에 하드디스크 용량을 확인하고 어떻게 파티셔닝할지 계획해둬야 합니다.

- - -

Tip

파티션을 나눔으로써 저장 공간의 낭비를 줄이고, 파티션별로 자료를 보호할 수 있습니다.

우분투 설치를 위해 기본적으로 루트 파티션과 스왑 영역이 필요합니다.

루트(/) 파티션은 다른 모든 시스템 디렉터리(/home, /usr 등)를 포함하는 최상위 파티션이며, 루트 파티션이 존재하지 않으면 부팅이 불가능하므로 반드시 할당해야 합니다.

스왑 영역은 사용자가 사용 가능한 파티션은 아니지만 실제 물리적인 메모리가 가득 찰 때 하드디스크를 메모리처럼 사용하기 위해 필요한 공간입니다.

시스템의 물리적인 메모리 용량의 두 배로 스왑 공간을 할당하는 것이 일반적이었지만 최근에는 리눅스 메모리 관리자의 성능이 좋아져 스왑 공간에 하드디스크 용량을 덜 할당해도 됩니다. 시스템 메모리에 따라 일반적으로 권장하는 스왑 공간은 다음과 같습니다.

▼ 표 2-1 시스템 메모리에 따라 권장하는 스왑 공간

|시스템 메모리|스왑 공간|
|:---:|:---:|
|4GB 이하|최소 2GB|
|4 ~ 16GB|최소 4GB|
|16 ~ 64GB|최소 8GB|
|64 ~ 256GB|최소 16GB|
|64 ~ 256GB|최소 32GB|

필요에 따라 루트 파티션에서 시스템 디렉터리를 별도의 파티션으로 분리해서 할당합니다.

우분투 설치 과정에서 파티션으로 할당할 수 있는 시스템 디렉터리는 다음과 같습니다.

+ /home: 사용자 자료가 저장되는 디렉터리입니다.
+ /usr: 시스템, 응용 프로그램에 필요한 파일들이 저장되는 디렉터리입니다.  
  일반적으로 /usr 디렉터리는 별도의 파티션으로 할당하지 않습니다.
+ /var: 전자 메일, 시스템 로그 기록, 웹 사이트 콘텐츠, 데이터베이스 등 지속적으로 늘어나는 임시 자료를 저장합니다.  
  규모에 따라 시스템 관리를 위해 별도의 공간으로 분리하기도 합니다.
+ /tmp: 임시로 파일을 생성 또는 삭제하는 디렉터리입니다.

- - -

#### 어떤 우분투를 설치해야 하나요?

우분투 버전은 출시된 연도에 따라 정해집니다.

12.04는 2012년 4월, 13.10은 2013년 10월에 출시되었다는 의미입니다.

출시된 이후 9개월까지 제조사의 공식 지원을 받을 수 있으며 2년마다 출시되는 LTS(Long Term Support) 버전은 공식 지원 기간이 5년입니다.

이 책을 집필하고 있는 2015년 1월 현재 가장 최신 LTS 버전은 14.04이기 때문에 이 책에서도 14.04를 대상으로 하고 있습니다.

우분투 14.04는 2019년까지 지원 예정입니다.

우분투 14.04의 하드웨어 권장 사양은 다음과 같습니다.

▼ 표 2-2 우분투 14.04의 하드웨어 권장 사양

>데스크탑

||최소|권장|
|:---:|:---:|:---:|
|CPU|300MHz|1GHz|
|RAM|64M|512MB|
|하드디스크 공간|4GB|8GB|
|그래픽카드|VGA 640x480|VGA 1024x768|

>서버

|||
|:---:|:---:|
|CPU|300MHz|
|RAM|64M|
|하드디스크 공간|500MB|
|그래픽카드|VGA 640x480|

화려한 그래픽 효과를 제공하기 위해 우분투 데스크탑은 사양이 높은 편이며 서버 서비스에 꼭 필요한 패키지만 포함된 우분투 서버는 사양이 낮은 편입니다.

이 책에서는 우분투 데스크탑, 서버를 모두 사용합니다.

시스템에 우분투 데스크탑을 설치하고 가상 시스템의 게스트 운영체제로 우분투 서버를 사용합니다.

#### 우분투 내려받기

우분투 공식 홈페이지([http://www.ubuntu.com](http://www.ubuntu.com)) 에서 우분투 설치를 위한 iso 이미지를 내려받을 수 있습니다.

우선 우분투 데스크탑을 내려받아봅시다.

`Download` 메뉴에서 `Desktop`을 선택합니다.

▼ 그림 2-1 우분투 공식 홈페이지에서 Download → Desktop
![ ](/img/02/01.jpg)

다운로드할 우분투 데스크탑 버전을 선택합니다. `Chose your flavour` 항목에서 시스템 메모리 용량이 2GB 미만이면 32비트, 이상이면 64비트를 선택해서 설치하면 됩니다.

`Download` 버튼을 클릭합니다.

▼ 그림 2-2 우분투 데스트탑 버전 선택
![ ](/img/02/02.jpg)

- - -

Tip

우분투 서버를 내려받으려면 `Download` -> `Server`를 선택합니다. 여기에서는 64비트 버전만 다운로드할 수 있습니다.

- - -

우분투 다운로드에 비용이 드는 것은 아니지만 페이팔을 통해 사용에 따른 기부도 가능합니다.

기부 비용을 모두 0 으로 입력하면 `Download` 링크가 활성화되며, 클릭하면 무료로 다운로드가 시작됩니다.

파일 다운로드가 끝나면 내려받은 iso 파일을 CD 또는 DVD 미디어를 이용해서 구워냅니다.

CD/DVD 미디어 대신 USB 메모리를 이용해서 우분투를 설치하려면 [초보 시스템 관리자의 일기 | USB 메모리를 이용해서 우분투 설치하기](#초보-시스템-관리자의-일기-|-USB-메모리를-이용해서-우분투-설치하기)를 참고합니다.

▼ 그림 2-3 기부 비용 입력한 후 다운로드
![ ](/img/02/03.jpg)

- - -

Tip

`Pay with PayPal`을 클릭해서 기부할 수 있습니다.

페이팔 페이지로 넘어가면 신용카드 정보를 비롯한 개인정보를 입력해서 기부를 하고 우분투를 내려받을 수 있습니다.

▼ 그림 2-4 페이팔을 통해 기부하기
![ ](/img/02/04.jpg)

- - -

우분투 서버는 `Download` 페이지에서 64비트만 내려받을 수 있습니다.

32비트 우분투 서버는 우분투 14 릴리즈 노트(releases.ubuntu.com/14.04)에서 `Server install image` 항목의 `PC(Intel x86) server install image`를 선택해서 다운로드할 수 있습니다.

▼ 그림 2-5 우분투 서버 인스톨 이미지 다운로드
![ ](/img/02/05.jpg)

### 우분투 설치

우분투를 설치해봅시다.

여기에서는 CD나 DVD 같은 광학 디스크 드라이브 (Optical Disk Drive), ODD로 우분투를 설치합니다.

우분투 데스크탑과 우분투 서버 설치 과정을 모두 살펴보겠습니다.

#### 설치 CD 또는 DVD 이미지로 부팅하기

시스템을 시작해서 설치 CD 또는 DVD 이미지로 부팅하려면 바이오스에서 부팅 순서를 CD/DVD 드라이브가 가장 먼저 부팅하도록 변경해야 합니다. 전원을 켜고 F2를 눌러 바이오스로 진입합니다.

▼ 그림 2-6 바이오스 진입
![ ](/img/02/06.jpg)

- - -

Tip

컴퓨터에 따라 ESC 또는 F10을 눌러 바이오스로 진입하기도 합니다.

- - -

시스템마다 바이오스 화면은 다르지만 부팅 순서를 조정하는 메뉴는 반드시 들어 있습니다.

`Boot` 메뉴를 선택한 후, `-` 또는 `+`를 눌러 CD/DVD ROM이 가장 먼저 부팅되도록 부팅 순서를 조정합니다.

▼ 그림 2-7 부팅 순서 조정
![ ](/img/02/07.jpg)

Exit 메뉴에서 Exit Saving Changes 항목을 선택해서 설정 내용을 저장하고 종료합니다.

`Yes`를 선택하면 시스템이 다시 부팅될 것입니다.

▼ 그림 2-8 설정 내용 저장 후 종료
![ ](/img/02/08.jpg)

#### 우분투 데스크탑 설치하기

**1.** 그래픽 환경을 제공하는 우분투 데스크탑을 설치해봅시다.

우분투 CD를 넣어 부팅하면 다음과 같은 설치 화면이 시작됩니다.

왼쪽 메뉴에서 설치 과정 시 사용할 언어를 선택하고 `[Ubuntu 설치]`를 클릭합니다.

▼ 그림 2-9 우분투 데스크탑 설치 시작 화면
![ ](/img/02/09.jpg)

**2.** 설치 과정에서 필요한 항목을 확인하는 과정입니다.

시스템에 우분투를 설치할 빈 공간이 있는지 확인하고 인터넷 연결 상태를 점검합니다.

➊ `설치 중 업데이트 다운로드` 체크박스에는 선택하지 않습니다.

시스템 설치를 끝낸 후 패키지 저장소 소스 리스트를 변경한 다음 업그레이드하는 편이 훨씬 빠르기 때문입니다.

➋ `서드 파티 소프트웨어 설치` 체크박스를 선택하면 우분투 외 다른 제조사의 소프트웨어를 설치할 수 있습니다.

선택한 뒤 `[계속]`을 클릭합니다.

▼ 그림 2-10 설치 과정에서 필요한 항목 확인
![ ](/img/02/10.jpg)

##### 파티셔닝

가장 까다로운 과정은 파티셔닝입니다.

하드디스크에 루트 디렉터리, 스왑 영역, 사용자 홈 디렉터리를 할당하는 데 필요한 파티션 셋을 생성하고자 합니다.

하드디스크 공간은 약 250GB로 루트 디렉터리에 50GB, 스왑 영역에 2GB, 나머지 공간을 모두 사용자 홈 디렉터리로 할당할 것입니다.

**3.** 먼저 파티셔닝 방법을 선택합니다.

➊ 사용자가 직접 파티셔닝하려면 `기타`를 선택합니다.

➋ 시스템에 다른 운영체제가 존재한다면 해당 운영체제를 그대로 두고 우분투를 설치할지, 아니면 하드디스크 전체를 초기화시켜서 우분투를 설치할지 결정할 수 있습니다.

모든 파티션을 삭제하고 우분투를 설치하려면 `디스크를 지우고 Ubuntu 설치`를 선택합니다.

이 경우 파티셔닝 과정을 건너뛸 것입니다. 계획대로 `기타`를 선택해서 직접 파티션을 할당해보겠습니다.

`[계속]`을 클릭합니다.

▼ 그림 2-11 파티셔닝 방법 선택
![ ](/img/02/11.jpg)

- - -

Tip

설치 전 세워둔 계획대로 파티셔닝하면 됩니다.

윈도와 비교하면 루트 디렉터리는 시스템 폴더인 Windows가 설치되는 공간이며 홈 디렉터리는 일반적인 자료를 저장하는 공간입니다.

처음 리눅스를 사용한다면 루트 디렉터리와 홈 디렉터리, 스왑 공간 정도로만 나눠도 충분하며, 이 중에서 홈 디렉터리에 가장 많은 용량을 할당하는 편이 바람직합니다.

- - -

**4.** 하드디스크에 직접 파티션을 생성합니다.

먼저 파티셔닝할 하드디스크 장치를 선택합니다.

리눅스에서는 하드디스크 장치를 /dev 디렉터리의 파일로 표현합니다.

각 하드디스크는 메인보드에 연결된 순서에 따라 sda, sdb, sdc 등으로 구별합니다.

/dev/sda는 SATA 방식의 하드디스크 하나가 검색되었음을 의미합니다.

검색된 하드디스크를 선택하고 `[새 파티션 테이블]` 버튼을 클릭합니다.

▼ 그림 2-12 하드디스크에 파티션 만들기
![ ](/img/02/12.jpg)

- - -

Tip

기존에 설치된 운영체제의 파티션이 존재한다면 우분투 설치에 필요한 공간을 확보하기 위해 해당 파티션을 삭제해야할지도 모릅니다.

파티션을 선택하고 아래에 있는 `-`를 클릭해서 파티션을 삭제할 수 있습니다.

- - -

**5.** 하드디스크에 처음 파티션을 할당한다면 `이 장치에 빈 파티션을 새로 만드시겠습니까?`라는 창이 나타납니다.

`[계속]`을 클릭합니다.

▼ 그림 2-13 빈 파티션 새로 만들기
![ ](/img/02/13.jpg)

**6.** 하드디스크 장치 경로 아래에 `남은 공간`이 나타납니다.

빈 공간에 파티션을 생성해보겠습니다.

`남은 공간`을 선택하고 `+`를 클릭해서 파티션을 생성합니다.
![ ](/img/02/14.jpg)

**7.** `파티션 만들기` 창이 나타납니다.

처음 생성할 파티션에는 루트 디렉터리를 할당해보겠습니다.

➊ 파티션을 생성할 용량을 MB 단위로 입력합니다. 50,000MB는 약 50GB를 의미합니다.

➋ 파티션 종류로 `주 파티션`을 선택합니다.

➌ 할당할 파티션의 위치를 선택합니다. 처음부터 할당하기 위해 `이 공간이 시작하는 지점`을 선택했습니다.

➍ 파일 시스템 유형을 선택합니다. 일반적으로 대부분의 리눅스가 `EXT4 저널링 파일 시스템`을 기본 파일 시스템 유형으로 사용합니다.

➎ 마운트할 지점으로 생성할 파티션에 할당할 디렉터리, `/(루트 디렉터리)`를 선택합니다.

- - -

Tip

EXT4는 리눅스 배포판 대부분이 기본적으로 채택하고 있는 파일 시스템입니다.

파일 시스템의 변경 사항을 저장해두는 저널링 기능을 제공하여 파일 시스템에 문제가 발생했을 때 빠르게 자료를 복원할 수 있으며 자료가 손상될 위험이 적습니다.

- - -

PC 호환 운영체제에서 하드디스크의 각 파티션은 다음과 같이 세 종류로 나뉩니다.

+ 주 파티션(Primary Partition ): MBR에 의해 부팅 가능한 기본 파티션으로 하드디스크 하나에 네 개까지 둘 수 있습니다.
+ 확장 파티션(Extended Partition ): 저장 공간은 없는 대신 여러 논리 파티션을 담는 큰 그릇 역할을 하는 파티션입니다.  
  하드디스크에 하나만 존재합니다.
+ 논리 파티션(Logical Partition ): 확장 파티션에 할당할 수 있는 논리적인 공간입니다.  
  운영체제를 시작할 수 없다는 점을 제외하면 자료를 저장하는 데 주 파티션과 동일하게 사용 가능합니다.

여기에서는 루트 디렉터리로 할당한 파티션에 운영체제의 시스템 파일을 설치하기 위해 `주 파티션`을 선택했습니다.

우분투를 설치할 때 루트 디렉터리는 반드시 파티션으로 할당해야 합니다.

여기까지 모두 완료하였으면 `[OK]`를 클릭합니다.

▼ 그림 2-15 루트 디렉터리로 마운트할 첫 번째 파티션 만들기
![ ](/img/02/15.jpg)

- - -

Tip

하드디스크 공간을 효율적으로 사용할 수 없다는 단점이 있지만 하드디스크 전체 공간을 파티션 하나로 생성해서 루트 디렉터리에 할당해도 우분투를 설치할 수는 있습니다.

다른 시스템 디렉터리는 몰라도 루트 디렉터리는 반드시 할당해야 합니다.

- - -

/dev/sda1 파티션이 성공적으로 할당되었습니다.(원하는 대로 50GB 용량이 정확하게 할당되지 못할 수도 있지만 시스템을 운영하는 데 영향을 미칠 정도는 아닙니다)

리눅스에서 하드디스크는 메인보드에 연결된 순서에 따라 sda, sdb, sdc 등으로 구별하며 여기에 숫자를 붙여 sda1, sda2, sdb1, sdb2처럼 파티션을 표현합니다.

따라서 sda1은 첫 번째 하드디스크의 첫 파티션을 의미합니다.

참고로 주 파티션과 확장 파티션은 1부터 4까지이며 논리 파티션은 5부터 시작합니다.

**8.** 두 번째 파티션을 생성하기 위해 `남은 공간`을 선택하고 다시 `+`를 클릭합니다.

그림 2-16 두 번째 파티션 만들기
![ ](/img/02/16.jpg)

처음 할당한 파티션의 정보를 수정하려면 해당 파티션을 선택하고 아래에 `Change...`를 클릭해서 변경할 수 있습니다.

**9.**  `파티션 만들기` 창이 나타납니다. 이번에는 스왑 영역을 생성합니다.

➊ 스왑 영역 크기는 `2048MB`, 약 2GB를 선택했습니다.

➋ 스왑 파티션은 `주 파티션`으로 할당합니다.

➌ 첫 파티션 바로 다음에 할당하기 위해 `이 공간이 시작하는 지점`을 선택합니다.

➍ `스왑 영역`을 선택합니다.

`[OK]`를 클릭합니다.

▼ 그림 2-17 스왑 영역 만들기
![ ](/img/02/17.jpg)

마지막으로 남은 공간을 파티션으로 생성해서 사용자 홈 디렉터리에 할당합니다.

➊ 남은 용량을 모두 사용합니다.

➋ 파티션 종류로 `주 파티션`을 선택합니다.

➌ 스왑 영역 다음에 할당하기 위해 `이 공간이 시작하는 지점`을 선택했습니다.

➍ 파일 시스템 유형으로 `EXT4 저널링 파일 시스템`을 선택했습니다.

➎ 마운트할 지점으로 `/home(사용자 홈 디렉터리)`을 선택합니다.

`[OK]`를 클릭합니다.

▼ 그림 2-18 사용자 홈 디렉터리를 마운트할 세 번째 파티션 만들기
![ ](/img/02/18.jpg)

**11.** 계획대로 파티셔닝이 끝났습니다. 할당한 파티션에 시스템 파일을 설치하기 위해 `[지금 설치]`를 클릭합니다.

▼ 그림 2-19 할당한 파티션에 시스템 파일 설치하기
![ ](/img/02/19.jpg)

**12.** 시스템에 적용할 시간대를 선택합니다. `Seoul`이 기본적으로 선택될 것입니다. `[계속]`을 선택합니다.

▼ 그림 2-20 시간대 설정하기
![ ](/img/02/20.jpg)

**13.** 키보드 배치를 선택합니다. 사용 언어로 `한국어`를 선택하고 `한국어(101/104키 호환)` 자판을 선택합니다.

`[계속]`을 클릭합니다.

▼ 그림 2-21 키보드 배치 선택하기
![ ](/img/02/21.jpg)

**14.** 호스트 이름과 시스템 관리자 계정 정보를 설정합니다.

➊ 사용자 이름을 입력합니다.

➋ 호스트 이름을 입력합니다.

➌ 로그인할 때 사용할 실제 사용자 계정을 입력합니다.

➍ 패스워드를 입력합니다. 확인을 위해 두 번 입력해야 합니다.

➎ 패스워드를 입력해서 사용자 인증을 거치도록 `로그인할 때 암호 입력`을 선택합니다.

`[계속]`을 클릭합니다.

▼ 그림 2-22 키보드 배치 선택하기
![ ](/img/02/22.jpg)

**15.** 패키지 설치가 시작됩니다.

▼ 그림 2-23 패키치 설치 시작
![ ](/img/02/23.jpg)

**16.** 설치가 끝나면 시스템을 재부팅합니다.

CD 또는 DVD 미디어를 제거하고 새로 설치한 우분투로 부팅해야 합니다.

빠른 부팅을 위해 이왕이면 다시 바이오스로 진입해서 하드디스크가 가장 먼저 부팅하도록 부팅 순서를 설정하기 바랍니다.

▼ 그림 2-24 설치 완료 후 시스템 재부팅
![ ](/img/02/24.jpg)

**17.** 우분투 로그인 화면입니다.

3장의 `로그인하기`를 참고해서 설치 과정에서 등록한 사용자 계정으로 로그인합니다.

▼ 그림 2-25 우분투 로그인 화면
![ ](/img/02/25.jpg)

#### 우분투 서버 설치하기

이번에는 우분투 서버를 설치해봅시다.

4장부터 등장하는 가상 시스템의 게스트 운영체제는 우분투 서버를 사용하고 있으니 알아둘 필요가 있습니다.

데스크탑 설치 과정과 거의 유사하지만, 마우스 대신 키보드로만 사용하기 때문에 파티셔닝 과정이 다소 불편할 수 있습니다.

Tab과 방향키로 선택하고 Enter로 입력해야 합니다.

**1.** 가상 시스템에서 다운로드한 iso 이미지로 부팅합니다. 먼저 설치 과정에서 사용할 언어를 선택합니다. `한국어`가 보입니다. Enter를 누릅니다.

▼ 그림 2-26 우분투 서버 설치 시 언어 설정
![ ](/img/02/26.jpg)

시스템에 우분투 서버를 설치하려면 우분투 서버 설치 CD/DVD 이미지를 넣어 부팅하면 됩니다.

가상 시스템에서 설치 iso 이미지로 부팅하는 방법은 `설치 CD 또는 DVD 이미지로 부팅하기`에서 설명합니다.

**2.** `우분투 서버 설치`를 선택합니다.

▼ 그림 2-27 우분투 서버 설치
![ ](/img/02/27.jpg)

**3.** 텍스트 환경의 설치 도구가 아직 한글을 완전히 지원하지 않기 때문에 다음과 같은 경고 메시지가 표시됩니다. `[예]`를 선택하여 해당 언어로 설치를 계속합니다.

▼ 그림 2-28 한글 지원 문제로 인한 오류 메시지
![ ](/img/02/28.jpg)

**4.** 표준 시간대와 로케일을 설정하기 위해 시스템을 운영하는 위치(국가)를 지정합니다. `대한민국`을 선택합니다.

▼ 그림 2-29 표준 시간대와 시스템 운영 위치(국가) 지정
![ ](/img/02/29.jpg)

**5.** 키보드 설정입니다. 직접 찾는 대신 목록에서 키보드 배열을 고르기 위해 `[아니요]`를 선택합니다.

▼ 그림 2-30 키보드 설정
![ ](/img/02/30.jpg)

**6.** 키보드 제조 국가로 `한국어`를 선택합니다.

▼ 그림 2-31 키보드 제조국 설정
![ ](/img/02/31.jpg)

**7.** 키보드 배치로 `한국어`를 골라 한글 자판 배열을 사용할 수 있습니다.

▼ 그림 2-32 키보드 배치 설정
![ ](/img/02/32.jpg)

**8.** 시스템의 호스트 이름을 정합니다. 여기에서는 `guest`라고 입력했습니다.

▼ 그림 2-33 시스템 호스트 이름 설정
![ ](/img/02/33.jpg)

- - -

Tip

이 책에서는 가상 게스트마다 특정 호스트 이름을 지정하고 있습니다.

다른 게스트와 중복되지 않도록 주의해서 입력하기 바랍니다.

- - -

**9.** 다음은 시스템 관리자 계정 정보를 설정하는 과정입니다.

먼저 사용자의 실제 이름을 입력합니다.

여기에서는 `administrator`라고 입력했습니다.

▼ 그림 2-34 시스템 관리자 계정 정보 설정
![ ](/img/02/34.jpg)

**10.** 로그인할 때 사용할 실제 사용자 계정(ID)을 입력합니다. 여기에서는 `administrator`라고 입력했습니다.

▼ 그림 2-35 시스템 관리자 계정 정보 설정
![ ](/img/02/35.jpg)

**11.** 패스워드를 입력합니다. 확인을 위해 두 번 입력해야 합니다.

▼ 그림 2-36 패스워드 입력
![ ](/img/02/36.jpg)

▼ 그림 2-37 패스워드 재입력
![ ](/img/02/37.jpg)

**12.** 사용자 홈 디렉터리를 암호화할지 여부를 묻는데 `[아니요]`를 선택합니다.

▼ 그림 2-38 홈 디렉터리 암호화 여부 결정
![ ](/img/02/38.jpg)

시간대가 `Asia/Seoul`로 설정되어 있을 것입니다.

`[예]`를 선택합니다.

▼ 그림 2-39 시간대 설정
![ ](/img/02/39.jpg)

##### 파티셔닝

**14.** 이제 파티셔닝입니다.

여기에서는 스왑 영역과 루트 디렉터리를 할당하기 위한 파티션 둘을 생성하고자 합니다.

가상 시스템으로 할당한 하드디스크 공간은 10GB로 약 250GB로 루트 디렉터리에 50GB, 스왑 영역에 2GB, 나머지 공간을 모두 사용자 홈 디렉터리로 할당할 것입니다.

직접 파티셔닝하기 위해 `수동으로`를 선택했습니다.

▼ 그림 2-40 디스크 파티션하기
![ ](/img/02/40.jpg)

**15.** 파티셔닝할 장치를 선택합니다. 시스템에 설치된 하드디스크가 검색되면 Enter를 눌러 선택합니다.

▼ 그림 2-41 파티셔닝할 장치 선택하기
![ ](/img/02/41.jpg)

**16.** 하드디스크에 새로운 파티션을 생성할 때 나오는 메시지입니다. `[예]`를 선택합니다.

▼ 그림 2-42 디스크 파티션하기
![ ](/img/02/42.jpg)

**17.** 선택한 하드디스크 아래에 `남은 공간`이 표시됩니다.

여기에 스왑 영역을 할당할 새로운 파티션을 생성하겠습니다.

`남은 공간`을 선택하고 Enter를 누릅니다.

▼ 그림 2-43 남은 공간에 새 파티션 생성하기
![ ](/img/02/43.jpg)

**18.** 파티션을 생성하기 위해 `새 파티션 만들기`를 고릅니다.

▼ 그림 2-44 새 파티션 만들기
![ ](/img/02/44.jpg)

**19.** 스왑 영역에 할당할 파티션 크기로 2GB를 사용하겠습니다.

`Enter`를 누릅니다.

▼ 그림 2-45 새 파티션 크기 지정
![ ](/img/02/45.jpg)

**20.** 스왑 공간은 `주 파티션`으로 할당합니다.

▼ 그림 2-46 새 파티션 종류 지정
![ ](/img/02/46.jpg)

**21.** 하드디스크 앞부분에 스왑 공간을 마련하기 위해 새로운 파티션의 위치를 `시작` 부분으로 설정합니다.

▼ 그림 2-47 새 파티션 위치 선택
![ ](/img/02/47.jpg)

**22.** 파일 시스템 유형은 EXT4 저널링 파일 시스템, 마운트 위치는 루트 디렉터리로 설정되어 있습니다.

스왑 영역을 할당하려면 용도를 변경해야 합니다.

`용도: EXT4 저널링 파일 시스템`을 선택하여 Enter를 누릅니다.

▼ 그림 2-48 파티션 용도 변경
![ ](/img/02/48.jpg)

**23.** `스왑 영역`을 선택합니다.

▼ 그림 2-49 파티션 용도 지정
![ ](/img/02/49.jpg)

**24.** `파티션 준비를 마쳤습니다`를 선택합니다.

▼ 그림 2-50 파티션 준비 완료
![ ](/img/02/50.jpg)

**25.** 스왑 공간을 할당하기 위한 2GB 파티션이 생성되었습니다.

`남은 공간`을 루트 디렉터리에 할당할 차례입니다.

▼ 그림 2-51 나머지 공간에 루트 디렉터리 할당
![ ](/img/02/51.jpg)

**26.** 앞서 스왑 영역을 생성한 것과 마찬가지로 루트 디렉터리에 할당할 파티션을 생성하는 과정은 다음과 같습니다.

➊ 남은 공간의 용도로 `새 파티션 만들기`를 선택합니다.

➋ 파티션 크기는 남은 모든 공간을 활용하기 위해 `max`를 입력합니다.

➌ 파티션 종류는 루트 디렉터리를 할당할 `주 파티션`으로 선택합니다.

➍ `파티션 준비를 마쳤습니다`를 선택합니다.

**27.** EXT4 저널링 파일 시스템에 약 8GB의 공간이 루트 디렉터리로 할당되었습니다.

`파티션 나누기를 마치고 바뀐 사항을 디스크에 쓰기`를 선택합니다.

▼ 그림 2-52 파티션 나누기를 마치고 바뀐 상황을 디스크에 쓰기
![ ](/img/02/52.jpg)

- - -

Tip

우분투 데스크탑 설치 과정과 달리 홈 디렉터리를 따로 할당하지 않았는데 이는 하드디스크 용량이 그렇게 크지 않기 때문입니다.

이렇게 하면 별도의 파티션으로 나뉘지 않고 루트 디렉터리로 할당된 파티션에 홈 디렉터리가 존재하게 됩니다.

- - -

**28.** 디스크에 쓰기를 시작하면 파티션을 생성하고 포맷하는 과정이 진행될 것입니다.

`[예]`를 선택합니다.

▼ 그림 2-53 파티션 생성 및 포맷
![ ](/img/02/53.jpg)

**29.** 파티션 생성이 끝나면 자동으로 패키지 설치가 시작됩니다.

네트워크를 통해 추가 패키지 정보를 얻어오기 위해 프록시 정보를 입력하는 과정인데 프록시가 없는 일반적인 시스템에서는 빈 칸으로 놔두고 `Enter`를 누릅니다.

▼ 그림 2-54 패키지 관리자 설정 - 프록시 없음
![ ](/img/02/54.jpg)

**30.** 시스템 보안을 위해 `자동으로 보안 업데이트 설치`를 선택합니다.

▼ 그림 2-55 자동으로 보안 업데이트 설치
![ ](/img/02/55.jpg)

**31.** 우분투 서버에는 필요한 서버 패키지를 선택해서 설치할 수 있습니다.

물론 여기에서 선택하지 않아도 설치 후에 직접 패키지 설치가 가능하므로 건너뛰겠습니다.

▼ 그림 2-56 시간대 설정
![ ](/img/02/56.jpg)

**32.** 마지막으로 하드디스크의 부팅 영역, MBR에 우분투의 부트로더 GRUB를 설치합니다.

`[예]`를 선택하면 자동으로 부트로더가 설치될 것입니다.

▼ 그림 2-57 부트로더 설치
![ ](/img/02/57.jpg)

**33.** 설치를 마쳤습니다. `[계속]`을 선택하면 시스템을 재부팅할 것입니다.

경고 메시지와 다르게 가상 시스템에서는 재부팅 과정에서 자동으로 iso 이미지를 연결 해제합니다.

다시 iso 이미지로 부팅할 걱정은 하지 않아도 됩니다.

▼ 그림 2-58 우분투 서버 설치 완료
![ ](/img/02/58.jpg)

**34.** 시스템을 부팅하면 볼 수 있는 로그인 프롬프트입니다. 3장의 `로그아웃/시스템 종료하기`를 참고해서 `administrator` 계정으로 로그인하고 `우분투 서버에서 영문 로케일 설정하기`를 참고해서 로케일 설정을 수정해야 합니다.

▼ 그림 2-59 로그인 프롬프트 화면
![ ](/img/02/59.jpg)

- - -

Tip

`administrator`는 우분투 서버 설치 과정에서 등록한 시스템 관리자의 사용자 계정입니다.

- - -

### 설치 후 마무리하기

우분투 설치가 끝난 다음 시스템을 사용하기 위해 필요한 환경 설정 절차를 살펴보겠습니다.

한글 입력 또는 네트워크에 문제가 발생한다면 이 정보가 도움이 될 것입니다.

#### 우분투 데스크탑 한글 입력 문제 해결하기

여러분이 사용하는 데스크탑 PC, 노트북, 가상 시스템은 저마다 키보드 배열이 다릅니다.

그래서 우분투에서 한글을 입력할 때 종종 문제가 발생합니다.

우분투를 설치한 직후 한글 입력 상태를 확인할 필요가 있습니다.

**1.** `[시스템 설정]` → `[키보드]`를 선택하면 `[키보드 선택]` 창이 나타납니다.

아래 `[텍스트 입력창]`을 클릭합니다.

▼ 그림 2-60 텍스트 입력창 열기
![ ](/img/02/60.jpg)

**2.** 한글, 영어 입력 전환이 가능하려면 왼쪽에 있는 `사용할 입력 소스`에서 `한국어(Hangul)`와 `영어(미국)`가 모두 등록되어 있어야 합니다.

`+`를 클릭하고 `입력 소스 선택` 창에서 `영어(미국)`를 선택한 뒤 `[추가]`를 클릭합니다.

▼ 그림 2-61 사용할 입력 소스에 `영어(미국)` 추가하기
![ ](/img/02/61.jpg)

- - -

Tip

선택 가능한 한글 입력 소스 `한국어`, `한국어(Hangul)`, `한국어(101/104키 호환)` 중에서 `한국어(Hangul)`를 선택해야 합니다.

영어 입력 소스는 훨씬 더 많은데 그중에서 `영어(미국)`를 선택합니다.

- - -

**3.** 우분투 데스크탑에서 한영전환 기본키는 `Super+스페이스`입니다.

우분투의 Super 키는 키보드의 윈도 키인데, 이렇게 윈도 키와 스페이스 바를 동시에 눌러 한영전환하는 방식이 어색한 것은 사실입니다.

이를 변경하려면 `다음 소스로 전환`을 클릭합니다.

지정된 키가 `새 단축키…`로 바뀌는데 그때 사용하고 싶은 키 또는 키 조합을 입력하면 됩니다.

리눅스에서 전통적으로 한영전환은 `Shift+스페이스`를 사용해왔습니다.

▼ 그림 2-62 키조합 바꾸기
![ ](/img/02/62.jpg)

그런데 이때 문제는 `한영키`가 작동하지 않는다는 점입니다.

`한영키`를 누르면 `바로가기 키를 사용할 수 없다`는 오류 메시지가 나타날 것입니다.

**4.** `한영키`로 한글 영어를 전환하려면 우분투 데스크탑 설정을 변경하는 도구인 dconf 편집기(dconf-editor)라는 프로그램을 설치해야 합니다.

프로그램 설치를 위해 터미널을 실행해야 합니다.

대시 버튼을 눌러 `터미널` 또는 `terminal`이라고 입력하면 터미널 아이콘이 나타날 것입니다.

터미널 아이콘을 클릭합니다.

▼ 그림 2-63 터미널 실행하기
![ ](/img/02/63.jpg)

**5.** 터미널에서 다음과 같이 입력하고 Enter를 누릅니다.

apt-get update는 패키지 저장소에서 패키지 목록을 새로 받아오는 명령입니다.

`[sudo]`라는 행이 나타나면 로그인 패스워드를 입력합니다.

```s
shinjaehun@losttemple:~$ sudo apt-get update
[sudo] password for shinjaehun: ******
```

- - -

Tip

sudo는 루트 권한을 얻기 위한 명령으로 3장의 `루트 권한 획득하기`에서 설명하고 있습니다.

- - -

**6.** 패키지를 설치하는 명령 apt-get install로 dconf-editor를 설치합니다.

apt-get 명령에 대해서는 3장의 `apt로 패키지 관리하기`에서 설명하고 있습니다.

```s
shinjaehun@losttemple:~$ sudo apt-get install -y dconf-editor
```

터미널에서 영어 입력이 불가능한 상황이라면 메뉴 오른쪽에 있는 태극 문양 아이콘을 클릭해서 `영어(미국)`를 선택할 수 있습니다.

▼ 그림 2-64 영어 입력으로 전환하기
![ ](/img/02/64.jpg)

**7.** 다음과 같이 입력하고 Enter를 눌러 dconf 편집기를 실행합니다.

```s
shinjaehun@losttemple:~$ dconf-editor
```

**8.** dconf 편집기가 실행됩니다.

➊ 왼쪽에서 차례로 `org` → `gnome` → `desktop` → `wm` → `keybindings`를 선택합니다.

➋ `switch-input-source` 항목을 찾아 `<Super>space`(기본값)라고 되어 있는 항목을 `Hangul`로 변경한 뒤 Enter를 누릅니다.

➌ 한영키와 함께 Shift+스페이스 키 조합을 허용하도록 `switch-input-source-backward` 항목은 `<Shift><Super>space`에서 `<Shift>space`로 변경하여 Enter를 누릅니다.

➍ 변경이 끝나면 창을 닫아 dconf 편집기를 종료하고 터미널 또는 편집기를 열어 한영키로 한글 영문 전환이 가능한지 확인합니다.

▼ 그림 2-65 dconf 편집기에서 한영전환 수정하기
![ ](/img/02/65.jpg)

- - -

Q 노트북에서 한영키가 제대로 동작하지 않습니다! 어떻게 해결할 수 있나요?

A 일부 노트북의 경우, 일반적인 키보드를 줄여 놓은 자판 배열을 사용하기 때문에 또 다른 문제가 발생합니다.

오른쪽 Alt와 한영키가 함께 반응하기 때문에 한영키를 누를 때마다 대시 버튼을 누르는 결과가 벌어질 것입니다.

한영키에서 오른쪽 Alt기능을 해제하고 한영키 고유의 기능만 남겨두려면 다음과 같이 설정합니다.

vi 편집기를 이용해서 altwin이라는 파일을 수정합니다.

vi 편집기에 대한 설명은 `3.8 텍스트 에디터 vi 다루기`를 참고합니다.

```s
shinjaehun@losttemple:~$ sudo vi /usr/share/X11/xkb/symbols/altwin
```

다음과 같이 `symbols[Group1]` = `[ Alt_R, Meta_R ]` }; 행에서 `[ Alt_R, Meta_R ]`을 수정하여 `[ Hangul ]`이라고 입력합니다. 편집이 끝나면 :wq를 눌러 파일을 저장하고 명령 프롬프트로 돌아옵니다.

```s
// Meta is mapped to second level of Alt keys.
partial modifier_keys
xkb_symbols "meta_alt" {
key <LALT> { [ Alt_L, Meta_L ] };
key <RALT> { type[Group1] = "TWO_LEVEL",
//symbols[Group1] = [ Alt_R, Meta_R ] }; <--
symbols[Group1] = [ Hangul ] }; <--
modifier_map Mod1 { Alt_L, Alt_R, Meta_L, Meta_R };
// modifier_map Mod4 {};
};
```

rm으로 /var/lib/xkb 디렉터리 내의 모든 파일을 삭제하고 reboot 명령으로 시스템을 재부팅합니다.

rm에 대한 설명은 3장의 `파일과 디렉토리 다루기`를, reboot에 대한 설명은 3장의 `루트 권한 획득하기`를 참고합니다.

시스템이 다시 부팅한 다음 한영키가 정상적으로 동작하는 것을 확인합니다.

```s
shinjaehun@losttemple:~$ sudo rm /var/lib/xkb/*
shinjaehun@losttemple:~$ sudo reboot
```

한영키를 사용할 수 없는 시스템에서는 한글과 영문 전환에 Shift+스페이스 키 조합을 사용할 수밖에 없습니다.

- - -

Q 가상 시스템에서 한영키가 제대로 동작하지 않습니다! 어떻게 해결할 수 있나요?

A 우분투 데스크탑을 가상 시스템에서 사용한다면 한영키와 한자키를 눌러도 전혀 반응이 없을 수 있습니다.

이때는 한영키와 한자키의 키 코드를 등록해야 합니다.

일반적인 106키 키보드에서 한영키의 키 코드는 122, 한자키의 키 코드는 123입니다.

키보드 키 코드를 지정하는 명령 setkeycodes를 이용해서 다음과 같이 입력하면 한영키와 한자키가 동작할 것입니다.

```s
shinjaehun@losttemple:~$ sudo setkeycodes 72 122
shinjaehun@losttemple:~$ sudo setkeycodes 71 123
```

재부팅했을 때 키 코드를 자동으로 등록하기 위해 rc.local 파일을 다음과 같이 vi 편집기로 수정합니다.

```s
shinjaehun@losttemple:~$ sudo vi /etc/rc.local
```

입력하는 키코드 등록 행(setkeycodes)은 `exit 0` 행보다 위에 있어야 합니다.

입력이 끝나면 esc키 입력 누른 후 :wq를 눌러 파일을 저장하고 시스템을 재부팅해서 한영키가 사용 가능한지 확인합니다.

```s
#!/bin/sh -e
...

setkeycodes 72 122
setkeycodes 71 123

exit 0
```

#### 우분투 서버에서 영문 로케일 설정하기

리눅스에서 시스템의 국가, 언어, 날짜/시간 형식, 시간대를 비롯한 설정은 로케일(locale)로 정의합니다.

locale 명령으로 로케일 정보를 확인할 수 있습니다.

우분투 데스크탑 설치 후 기본적인 로케일 값은 한글(ko_KR.UTF-8)로 설정되어 있습니다.

```s
shinjaehun@losttemple:~$ locale
LANG=ko_KR.UTF-8
LANGUAGE=ko
LC_CTYPE="ko_KR.UTF-8"
LC_NUMERIC="ko_KR.UTF-8"
LC_TIME="ko_KR.UTF-8"
LC_COLLATE="ko_KR.UTF-8"
LC_MONETARY="ko_KR.UTF-8"
LC_MESSAGES="ko_KR.UTF-8"
LC_PAPER="ko_KR.UTF-8"
LC_NAME="ko_KR.UTF-8"
LC_ADDRESS="ko_KR.UTF-8"
LC_TELEPHONE="ko_KR.UTF-8"
LC_MEASUREMENT="ko_KR.UTF-8"
LC_IDENTIFICATION="ko_KR.UTF-8"
LC_ALL=
```

- - -

Tip

우분투 데스크탑의 로케일이 다른 언어로 설정되어 있다면 그래픽 환경의 데스크탑을 시작하는 데 문제가 발생합니다.

- - -

4장에서 사용하는 우분투 서버는 그래픽 환경 대신 텍스트 콘솔을 제공합니다.

가상 시스템에서 우분투 서버를 사용하면 일부 메시지가 제대로 표시되지 않는 문제가 발생합니다.

우분투 서버를 설치할 때 한글 환경을 선택했지만 텍스트 콘솔이 한글을 지원하지 않기 때문입니다.

텍스트 콘솔 환경을 제공하는 우분투 서버에서는 일부 메시지가 제대로 표시되지 않는 문제가 발생합니다.

가상 시스템에 우분투 서버를 설치하는 과정에서 한글 환경을 선택했지만 텍스트 콘솔이 한글을 지원하지 않기 때문입니다.

따라서 우분투 서버의 로케일은 한글 대신 영어로 설정하는 편이 낫습니다.

▼ 그림 2-66 한글 깨짐 현상
![ ](/img/02/66.jpg)

- - -

Tip

우분투 데스크탑은 한글 로케일(ko_KR.UTF-8)이 설정되어 있어야 합니다.

함부로 영문 로케일로 수정하면 그래픽 환경으로 부팅할 수 없게 됩니다.

`주의하세요.`

- - -

**1.** 우분투 서버에서 로케일을 변경하려면 /etc/default/locale 파일을 편집기로 수정합니다.

```s
administrator@guest:~$ sudo vi /etc/default/locale
```

- - -

Tip

vi 사용법에 대해서는 `3.8 텍스트 에디터 vi 다루기`에서 설명하고 있습니다.

- - -

**2.** LC_ALL, LANG 정보를 다음과 같이 영어로 수정합니다.

편집이 끝나면 파일을 저장하고 커맨드라인으로 되돌아옵니다.

```s
LC_ALL=en_US.UTF-8
LANG=en_US.UTF-8
```

**3.** 로그아웃하고 다시 같은 계정으로 로그인합니다

```s
administrator@guest:~$ logout
```

**4.** locale 명령으로 로케일이 변경된 것을 확인할 수 있습니다.

```s
administrator@guest:~$ locale
LANG=en_US.UTF-8
LANGUAGE=
LC_CTYPE="en_US.UTF-8"
LC_NUMERIC="en_US.UTF-8"
LC_TIME="en_US.UTF-8"
LC_COLLATE="en_US.UTF-8"
LC_MONETARY="en_US.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_PAPER="en_US.UTF-8"
LC_NAME="en_US.UTF-8"
LC_ADDRESS="en_US.UTF-8"
LC_TELEPHONE="en_US.UTF-8"
LC_MEASUREMENT="en_US.UTF-8"
LC_IDENTIFICATION="en_US.UTF-8"
LC_ALL=en_US.UTF-8
```

#### 네트워크 설정하기

네트워크 매니저(Network Manger)는 네트워크 상태를 감지하고 자동으로 설정해주는 프로그램으로 우분투를 데스크탑 운영체제로 활용할 때 유용합니다.

네트워크 설정이 자꾸 바뀌는 이동이 잦은 환경, 특히 무선 네트워크 환경에서 편리하게 사용합니다.

▼ 그림 2-67 네트워크 매니저
![ ](/img/02/67.jpg)

하지만, 네트워크 매니저의 설정 우선순위가 높기 때문에 가끔씩 자동으로 네트워크 설정을 뒤바꿔버려서 문제가 생기기도 합니다.

우분투를 이용해서 안정적인 서버 서비스를 제공하려면 네트워크 설정을 자주 변경할 필요가 없으므로 네트워크 매니저에게 맡기기보다 관리자가 직접 네트워크 설정 파일에 주소 정보를 입력하는 편이 바람직합니다.

**1.** 네트워크 매니저를 제거합니다.

다음과 같이 명령어를 입력합니다.

```s
shinjaehun@losttemple:~$ sudo apt-get remove -y --purge network-manager
```

apt-get remove 명령은 패키지를 삭제하는 명령입니다.

3장의 `apt 패키지 관리하기`에서 다룹니다.

**2.** 패킷이 드나드는 장치가 네트워크 인터페이스입니다.

네트워크 매니저를 삭제하면 루프백을 제외한 모든 네트워크 인터페이스가 해제됩니다.

네트워크 인터페이스는 시스템에서 패킷이 오가는 통로이자 관문 역할을 하는 장치입니다 네트워크 인터페이스가 해제되었는지 ifconfig 명령으로 확인할 수 있습니다.

```s
shinjaehun@losttemple:~$ ifconfig

lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:139 errors:0 dropped:0 overruns:0 frame:0
TX packets:139 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:0
RX bytes:10063 (10.0 KB) TX bytes:10063 (10.0 KB)
```

컴퓨터가 처리하는 자료는 네트워크를 거쳐 기민하게 전달될 수 있도록 잘게 쪼개져 전송됩니다. 이렇게 잘게 쪼개진 덩어리를 패킷이라고 합니다.

**3.** 확인을 마쳤으면 네트워크 인터페이스 파일에 네트워크 주소 정보를 입력합니다.

이는 리눅스에서 가장 일반적으로 사용하는 네트워크 환경 설정 방법입니다.

우분투의 네트워크 인터페이스 파일은 `/etc/network/interfaces`입니다.

```s
shinjaehun@losttemple:~$ sudo vi /etc/network/interfaces
```

**4-1.** 만약 시스템이 네트워크 주소 정보를 자동으로 받아와서 설정한다면 다음과 같이 입력합니다.

유선 네트워크 인터페이스인 eth0을 활성화(auto eth0)시키고 DHCP를 통해 네트워크 주소 정보를 자동으로 받아오도록 설정(iface eth0 inet dhcp)합니다.

```s
auto lo
#iface lo inet loopback

auto eth0iface eth0 inet dhcp
```

**4-2.** 관리자가 직접 네트워크 주소를 직접 입력해야 한다면 다음과 같이 입력합니다.

eth0에 수동으로 네트워크 주소 정보를 할당(iface eth0 inet static)하고 IP 주소(address), 넷마스크(netmask), 기본 게이트웨이 주소(gateway), DNS 주소(dns-nameservers)를 차례로 입력합니다.

```s
auto lo
#iface lo inet loopback

auto eth0
iface eth0 inet static
address 192.168.0.2
netmask 255.255.255.0
gateway 192.168.0.1
dns-nameservers 8.8.8.8 8.8.4.4
```

**5.** 네트워크 인터페이스 파일을 수정했으면 저장하고 편집기를 종료하여 커맨드라인으로 나옵니다.

설정 내용을 반영하려면 추가한 네트워크 인터페이스 eth0을 ifdown 명령으로 내렸다가 ifup 명령으로 다시 시작합니다.

```s
shinjaehun@losttemple:~$ sudo ifdown eth0
shinjaehun@losttemple:~$ sudo ifup eth0
```

**6.** ifconfig 명령으로 확인하면 유선 네트워크 인터페이스 eth0에 네트워크 주소 정보가 할당된 것을 확인할 수 있습니다.

3장의 `연결 상태 진단 도구 ping`에서 다루는 ping을 이용해서 연결 상태를 점검해보기 바랍니다.

```s
shinjaehun@losttemple:~$ ifconfig

eth0 Link encap:Ethernet HWaddr 08:9e:01:d3:f9:dc
inet addr:192.168.0.7 Bcast:192.168.0.255 Mask:255.255.255.0
inet6 addr: fe80::a9e:1ff:fed3:f9dc/64 Scope:Link
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:19440 errors:0 dropped:0 overruns:0 frame:0
TX packets:14107 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:21575520 (21.5 MB) TX bytes:2010242 (2.0 MB)
Interrupt:17
```

- - -

Tip

ifconfig 명령은 네트워크 인터페이스 정보를 확인하거나 수정하는 명령입니다.

3장의 `네트워크 인터페이스 다루기`에서 살펴볼 예정입니다.

- - -

**7.** 안정적인 서버 서비스를 제공하려면 케이블로 연결한 유선 네트워크가 바람직하지만, 네트워크 매니저가 없어도 무선 네트워크 인터페이스를 사용할 수 있습니다.

iwconfig 명령은 시스템에 설치된 무선 네트워크 장치를 보여줍니다.

무선 네트워크 인터페이스 wlan0에 대한 정보를 확인할 수 있습니다.

```s
shinjaehun@losttemple:~$ iwconfig

wlan0 IEEE 802.11bgn ESSID:off/any
Mode:Managed Access Point: Not-Associated Tx-Power=20 dBm
Retry long limit:7 RTS thr:off Fragment thr:off
Power Management:off

lo no wireless extensions.

eth0 no wireless extensions.
```

**8.** ifconfig 명령으로 waln0을 활성화시킵니다.

아직은 무선 네트워크 접속 지점(Access Point), AP과 연결되지 않았기 때문에 네트워크 주소 정보가 할당되지 않은 상태입니다.

```s
shinjaehun@losttemple:~$ sudo ifconfig wlan0 up
shinjaehun@losttemple:~$ ifconfig

wlan0 Link encap:Ethernet HWaddr 00:27:13:63:e7:a1
inet6 addr: fe80::227:13ff:fe63:e7a1/64 Scope:Link
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:0 (0 KB) TX bytes:0 (0 KB)
```

- - -

Tip

무선 네트워크 장치들을 우리 집 네트워크에 연결하려면 둘 사이를 잇는 다리가 필요한데, 이를 접속지점, AP(Access Point)라고 합니다.

AP는 무선 네트워크 장치가 보낸 신호를 처리해서 다른 호스트로 전달합니다.

일반적으로 집에서 사용하는 가정용 무선 인터넷 공유기가 AP의 역할을 합니다.

- - -

**9.** iwlist는 AP를 검색하는 명령입니다.

wlan0이 연결 가능한 AP가 검색될 것입니다.

접속하려는 AP의 이름, ESSID(Extended Service Set IDentifier) 정보를 기억해둡니다.

```s
shinjaehun@losttemple:~$ sudo iwlist wlan0 scan

wlan0 Scan completed :
...
Cell 03 - Address: 00:26:66:19:CB:C0
Channel:5
Frequency:2.432 GHz (Channel 5)
Quality=70/70 Signal level=-21 dBm
Encryption key:on
ESSID:"gateway"
Bit Rates:1 Mb/s; 2 Mb/s; 5.5 Mb/s; 11 Mb/s; 9 Mb/s
18 Mb/s; 36 Mb/s; 54 Mb/s
Bit Rates:6 Mb/s; 12 Mb/s; 24 Mb/s; 48 Mb/s
Mode:Master
...
```

**10.** 네트워크 인터페이스 설정 파일을 vi로 열어 수정합니다.

```s
shinjaehun@losttemple:~$ sudo vi /etc/network/interfaces
```

**11.** 무선 네트워크 인터페이스를 활성화(auto wlan0)해서 자동으로 주소 정보를 받아오고(iface wlan0 inet dhcp) AP 이름(wpa-ssid `gateway`)과 AP 접속에 필요한 패스워드(wpa-psk `password`)를 입력합니다.

```s
# interfaces(5) file used by ifup(8) and ifdown(8)

auto lo
iface lo inet loopback

auto wlan0
iface wlan0 inet dhcp
allow-hotplug wlan0
wpa-ssid "gateway"
wpa-psk "password"
```

- - -

Tip

예제에서 사용한 gateway와 password 대신 AP(무선 네트워크 공유기)에 설정해 놓은 네트워크 이름(ESSID)과 패스워드를 입력해야 합니다.

- - -

**12.** 무선 네트워크 인터페이스의 주소 정보를 직접 입력하려면 다음과 같이 wlan0에 수동으로 네트워크 주소 정보를 할당(iface wlan0 inet static)하고 네트워크 주소 정보를 차례로 입력합니다.

물론 AP 이름과 패스워드도 추가로 입력해야 합니다.

```s
auto wlan0
iface wlan0 inet static
allow-hotplug wlan0
address 192.168.0.2
netmask 255.255.255.0
gateway 192.168.0.1
dns-nameservers 8.8.8.8
wpa-ssid "gateway"
wpa-psk "password"
```

**13.** 파일을 저장하고 편집기를 종료하여 커맨드라인으로 나옵니다.

설정 내용을 반영하기 위해 추가한 무선 네트워크 인터페이스 wlan0을 ifdown 명령으로 내렸다가 ifup 명령으로 다시 시작합니다.

```s
shinjaehun@losttemple:~$ sudo ifdown wlan0
shinjaehun@losttemple:~$ sudo ifup wlan0
```

**14.** ifconfig 명령으로 확인하면 무선 네트워크 인터페이스 wlan0에 네트워크 주소 정보가 할당된 것을 확인할 수 있습니다.

3장의 `연결 상태 진단 도구 ping`에서 다루는 ping을 이용해서 연결 상태를 점검해보기 바랍니다.

```s
shinjaehun@losttemple:~$ ifconfig
wlan0 Link encap:Ethernet HWaddr 00:27:13:63:e7:a1
inet addr:192.168.0.8 Bcast:192.168.0.255 Mask:255.255.255.0
inet6 addr: fe80::227:13ff:fe63:e7a1/64 Scope:Link
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:191 errors:0 dropped:0 overruns:0 frame:0
TX packets:121 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:76458 (76.4 KB) TX bytes:16221 (16.2 KB)
```

**15.** 우분투 부팅 과정에서 무선 네트워크 인터페이스가 활성화되지 않아서 문제가 발생하는 경우가 있습니다.

무선 네트워크 인터페이스를 다시 시작하도록 `rc.local`에 필요한 명령을 등록해두면 됩니다.

shinjaehun@losttemple:~$ sudo vi /etc/rc.local

**16.** 무선 네트워크 인터페이스를 다시 시작하도록 명령을 입력합니다.

exit 0 행보다 위에 명령이 있어야 합니다.

```s
#!/bin/sh -e
...

ifdown wlan0
ifup wlan0

exit 0
```

- - -

Tip

네트워크 서버로 안정적인 서비스를 제공하기 위해서는 주변 환경이 성능에 영향을 미치는 무선 네트워크보다 케이블로 연결하는 유선 네트워크를 사용해야 합니다.

- - -

#### 패키지 업그레이드하기

시스템을 방금 설치했다면 apt-get 명령을 이용해서 시스템에 설치된 패키지를 최신 버전으로 업그레이드합니다.

먼저 apt-get update로 패키지 목록을 업데이트합니다.

```s
shinjaehun@losttemple:~$ sudo apt-get update
```

apt-get upgrade로 패키지를 최신 버전으로 업그레이드합니다.

```s
shinjaehun@losttemple:~$ sudo apt-get upgrade
```

시스템 업그레이드에 성공하면 시스템을 다시 부팅합니다.

```s
shinjaehun@losttemple:~$ sudo reboot
```

#### 초보 시스템 관리자의 일기 | USB 메모리를 이용해서 우분투 설치하기

우분투 설치를 위해 iso 이미지를 CD나 DVD 미디어로 제작하는 일은 정말 귀찮은 일이다.

CD, DVD 미디어가 파손 또는 분실되는 경우가 많기 때문이다.

벌써 몇 번째 우분투 설치 이미지를 다시 다운로드하는지 모르겠다.

이런 어려움을 호소하니 선배가 해결책을 알려줬다.

우분투를 설치하는 데 USB 메모리를 사용하라는 것이다.

USB 메모리로 부팅이 가능하다는 사실을 알게 된 점은 차치하더라도 CD, DVD 미디어로부터 해방되었다는 생각에 매우 만족스럽다.

잠깐만… USB 메모리도 잘 잃어버리는데 이건 또 어쩌지?

어쨌든. 윈도(Windows) 환경에서 USB 메모리에 우분투 설치 미디어를 생성할 수 있는 도구는 [http://www.pendrivelinux.com](http://www.pendrivelinux.com) 에서 제공한다.

UUI(Universal USB Installer)와 YUMI(Your Universal Multiboot Installer) 중 하나를 사용하면 된다.

UUI는 USB 메모리 하나에 iso 이미지 하나만 옮길 수 있지만 YUMI는 USB 메모리 하나에 여러 개의 iso 이미지를 저장해서 부팅 과정에서 설치할 운영체제를 선택할 수 있다.

경우에 따라 우분투 데스크탑과 우분투 서버를 설치해야 하므로 YUMI를 사용하기로 한다 (UUI의 사용법도 YUMI와 거의 동일하다).

**1.** 먼저 USB 메모리를 포맷해둔다.

주의할 점은 포맷할 `파일 시스템`을 `NTFS`가 아닌 `FAT32(기본값)`로 해야 한다는 점이다.

포맷할 준비가 끝나면 `[시작]`을 클릭한다.

▼ 그림 2-68 USB 메모리 포맷하기
![ ](/img/02/68.jpg)

**2.** YUMI는 [http://www.pendrivelinux.com/yumi-multiboot-usb-creator](http://www.pendrivelinux.com/yumi-multiboot-usb-creator)에서 받을 수 있다.

`[DOWNLOAD YUMI]`를 클릭한다.

▼ 그림 2-69 YUMI 다운로드
![ ](/img/02/69.jpg)

**3.** 다운로드한 `YUMI-2.0.1.0.exe` 파일을 더블클릭해서 실행한다.

`[I agree]`를 클릭해서 라이선스에 동의한다.

▼ 그림 2-70 라이선스 동의
![ ](/img/02/69.jpg)

**4.** 순서대로 진행 한다.

➊ Step 1: 설치 대상 USB 메모리의 드라이브 경로를 선택한다.

➋ Step 2: 설치할 운영체제를 선택한다. 우분투 데스크탑은 `Ubuntu`이다.

➌ Step 3: 우분투 데스크탑 iso 이미지 경로를 선택한다.

`[Create]`를 클릭해서 부팅 이미지 생성을 시작한다.

▼ 그림 2-71 USB 메모리에 우분투 데스크탑 설치하기
![ ](/img/02/71.jpg)

**5.** 설치가 끝나면 USB 메모리에 다른 운영체제를 추가할지 묻는다.

`[예]`를 클릭한다.

▼ 그림 2-72 추가 운영체제 설치하기
![ ](/img/02/72.jpg)

**5.** 순서대로 진행 한다.

➊ Step 2: 설치할 운영체제로 `Ubuntu Server` 를 선택한다.

➋ Step 3: 우분투 서버 iso 이미지 경로를 선택한다.

`[Create]`를 클릭해서 부팅 이미지 생성을 시작한다.

이번에는 설치가 끝나고 다른 운영체제를 추가할지 물을 때 `[아니요]`를 선택한다.

▼ 그림 2-73 USB 메모리에 우분투 서버 설치하기
![ ](/img/02/73.jpg)

**7.** 설치 이미지 생성이 끝났다.

`[Finish]`를 클릭한다.

▼ 그림 2-74 설치 이미지 생성 완료
![ ](/img/02/74.jpg)

**8.** 바이오스에서 부팅 순서를 조정한다.

`-` 또는 `+`를 눌러 USB 장치USB Devices가 가장 먼저 부팅하도록 설정한다.

설정 내용을 저장하고 바이오스를 종료한다.

▼ 그림 2-75 부팅 순서는 USB 메모리를 최우선으로 조정
![ ](/img/02/75.jpg)

**9.** USB 메모리를 읽어 부팅에 성공하면 YUMI 부팅 선택 화면이 나타난다.

‘Continue to Boot From First HD’는 하드디스크에 설치된 운영체제로 부팅을 하는 기본 옵션이며 우분투 iso 이미지로 부팅하려면 ‘Linux Distributuins’를 선택한다.

▼ 그림 2-76 YUMI 부팅 선택 화면
![ ](/img/02/76.jpg)

**10.** 설치하려는 우분투 iso 이미지를 선택한다.

앞에서 USB 메모리로 옮긴 우분투 데스크탑과 우분투 서버 중 하나를 선택해서 부팅할 수 있다.

▼ 그림 2-77 설치 iso 이미지 선택 화면
![ ](/img/02/77.jpg)

**11.** YUMI를 다시 실행해서 USB 메모리에 또 다른 운영체제의 설치 iso 이미지를 추가할 수 있다.

➊ 설치할 리눅스 배포판을 선택하고 ➋ 다운로드한 리눅스 배포판 iso 이미지 경로를 입력한 후 `[Create]`를 클릭해서 설치 이미지를 생성한다.

USB 메모리에 존재하는 자료를 지우지 않고 덮어 쓰기 때문에 용량만 허락한다면 USB 메모리 하나로 여러 리눅스 배포판을 설치할 수 있다.

▼ 그림 2-78 또 다른 iso 이미지를 추가 가능
![ ](/img/02/78.jpg)

**12.** 앞에서 생성한 우분투 데스크탑, 우분투 서버 외에 새로 추가한 운영체제를 선택해서 부팅할 수 있다.

▼ 그림 2-79 새로 추가한 운영체제 선택 화면
![ ](/img/02/79.jpg)